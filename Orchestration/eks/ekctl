aws eks

1) install aws cli, ekctl
2) then go to iam, my user
security credentials/access keys/create access keys
3) on server, aws configure
AWS Access Key ID [None]:AKIAW5A7V7JNR7OIHDGT
AWS Secret Access Key 
Default region name us-west-2 (can be any)
Default output format [None]: json (can be yaml)

4) CREATE your k8s cluster - with 2 nodes by default
eksctl create cluster \
--name QA \
--tags Name=QA \
--version 1.18 \
--region us-west-2 \
--nodegroup-name ng-qa \
--nodes 3 \
--nodes-min 2 \
--nodes-max 3 \
--fargate 
# delete cluster
eksctl delete cluster --name my-cluster

5) create profile fargate for your cluster
eksctl create fargateprofile --cluster QA --name --namespace qa --labels name=qa










4) generate kubeconfig
aws eks --region us-west-2 update-kubeconfig --name QA

kubectl get svc
NAME         TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE
kubernetes   ClusterIP   10.100.0.1   <none>        443/TCP   28m

5) API server endpoint
export KUBECONFIG=$KUBECONFIG:/opt/.kube/configs/qa.yml









