# 1. Mount disk in /etc/fstab with UID
```
/dev/mapper/eui.01000000010000005cd2e4bc8d045351p1          /data                   xfs     defaults        0 0

Запись точки подключения в /etc/fstab
синтаксис одной строчки fstab:
устройство  точка_монтирования файловая_система опции резерв{0,1} проверка{0,1,2}
где:
Устройство - это раздел диска, который вам нужно примонтировать. Его можно указать в формате файла устройства Linux в каталоге /dev/, например, /dev/sda1 или с помощью уникального идентификатора UUID, тогда формат записи будет таким UUID="XXXX-XXXX-XXXX-XXXX", также возможна запись с помощью метки, например, LABEL=home;
Файловая система указывает в какой файловой системе нужно монтировать это устройство, например, ext4, ext3, ext2, btrfs;
Точка монтирования - куда нужно примонтировать это устройство, например, /home, /boot, /mnt;
Опции - параметры монтирования файловой системы, рассмотрим подробнее ниже;
Проверка - указывает в какой очереди нужно проверять устройство на ошибки, 1 - в первую очередь, 2 - вторую, 0 - не проверять;
Резерв - указывает нужно ли делать резервную копию раздела, может принимать значения только 0 и 1.

#### Начнем с общих для всех файловых систем опций:
sync - записывать на диск все изменения сразу после того, как они были выполнены, не использовать кэширование для записываемых данных. Может понадобится для извлечения флешки без размонтирования, но сильно снижает производительность;
async - использовать кэш при записи данных, увеличивает производительность, используется по умолчанию;
atime - сохранять время последнего доступа к файлу;
noatime - не сохранять время последнего доступа, полезно для ssd и флешек;
relatime - обновлять время доступа только при изменении файла, необходимо для работы многих программ;
norelatime - отключить relatime;
strictatime - обновлять время доступа всегда, отключает действие предыдущих опций;
auto - автоматически монтировать при загрузке, действие по умолчанию;
noauto - не монтировать при загрузке;
defaults - использовать опции монтирования fstab по умолчанию - rw,suid,dev,exec,auto,nouser,async;
dev - интерпретировать блочные устройства;
nodev - не интерпретировать блочные устройства;
diratime - аналогично atime только для каталогов;
dirnoatime - аналогично noatime, для каталогов;
exec - разрешить выполнять программы на этом разделе;
noexec - запретить выполнять программы на этом разделе;
group - разрешить другим пользователям кроме root монтировать этот раздел, если их группа совпадает с указанной, обычно используется вместе с noauto;
nofail - не сообщать об ошибках;
mand - разрешить блокирование файловой системы, нужно для некоторых антивирусов;
nomand - запретить блокирование файловой системы;
suid - разрешить выполнение программ с флагом suid от имени другого пользователя;
nosuid - игнорировать флаг suid;
owner - разрешить указанному пользователю монтировать устройство;
ro - монтировать только для чтения;
rw - монтировать для чтения и записи;
users - разрешить монтирование любому пользователю;
umask - установить права доступа к файлам и папкам на этом разделе;
uid - задает владельца каталога, по умолчанию root;
gid - задает группу владельца каталога.

#### Example:
UUID="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx" /data xfs rw,attr2,noatime 0 0
В приведенном выше примере UUID представляет устройство, которое можно найти с помощью команды blkid.****
# change to like that
UUID="e0bf8406-5e74-45c0-90b3-9d1f5ccf3eb3" /data xfs rw,attr2,noatime 0 0

# verify with that
findmnt --verify --verbose
```
# 2. CPU TUNE
```
yum install tuned
systemctl start tuned && systemctl enable tuned

Посмотреть активный профиль:
tuned-adm active
Результат:
Current active profile: throughput-performance

Посмотреть список доступных профилей:
tuned-adm list

Выбрать понравившейся:
tuned-adm profile throughput-performance

результат:
tuned-adm active
Current active profile: throughput-performance

Посмотреть рекомендуемый профиль для текущей тачки:
tuned-adm recommend
Выключить можно так:
tuned-adm off
nano /etc/sysctl.conf
# better use RAM
vm.swappiness = 1

#### Кэш
vm.dirty_background_ratio — процент системной памяти, который можно заполнить dirty pages до того, как фоновые процессы pdflush/flush/kdmflush запишут их на диск;
vm.dirty_ratio — максимальный объем системной памяти, которую можно заполнить dirty pages;
vm.dirty_background_bytes и vm.dirty_bytes — два предыдущих пункта, только в байтах; параметры взаимозаменяемы;
vm.dirty_expire_centisecs – время, которое данные могут храниться в кэше, в нашем случае 30 с;
vm.dirty_writeback_centisecs – как часто процессы pdflush/flush/kdmflush проверяют кэш.
Количество данных, которые ожидают записи можно просмотреть так:
cat /proc/vmstat | egrep "dirty|writeback"
nr_dirty 878
nr_writeback 0
nr_writeback_temp 0
nr_dirty  878 “грязных” страниц ожидает записи
Чтобы уменьшить размер кэша для уменьшения вероятности потери важных данных при сбое и минимизации возможных задержек записи/чтения необходимо отредактировать параметры vm.dirty_background_ratio и vm.dirty_ratio:
vm.dirty_background_ratio = 5
vm.dirty_ratio = 10
Значения записываются sysctl.conf

```
# 3.  CONFIG TUNE


